<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1710px" preserveAspectRatio="none" style="width:1269px;height:1710px;" version="1.1" viewBox="0 0 1269 1710" width="1269px" zoomAndPan="magnify"><defs><filter height="300%" id="f11viywf3yvuni" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="343" cy="43.4961" fill="#000000" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="270" y="88.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="280" y="110.0977">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="296.5" y="206.1064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="306.5" y="227.708">json stringify</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="298,157.6289,388,157.6289,400,169.6289,388,181.6289,298,181.6289,286,169.6289,298,157.6289" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="192.2637">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="298" y="173.7861">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="400" y="167.3086">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,290.627,355,302.627,343,314.627,331,302.627,343,290.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="275.3516">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="288.3066">source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="280.5,349.627,405.5,349.627,417.5,361.627,405.5,373.627,280.5,373.627,268.5,361.627,280.5,349.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="280.5" y="365.7842">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="250.5" y="359.3066">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="417.5" y="359.3066">no</text><path d="M129,393.627 L129,409.9375 L109,413.9375 L129,417.9375 L129,434.248 A0,0 0 0 0 129,434.248 L271,434.248 A0,0 0 0 0 271,434.248 L271,403.627 L261,393.627 L129,393.627 A0,0 0 0 0 129,393.627 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,393.627 L261,403.627 L271,403.627 L261,393.627 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="135" y="411.1953">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="135" y="426.5059">definition files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="20" y="396.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="30" y="418.4727">wipe source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1137.9512,355,1149.9512,343,1161.9512,331,1149.9512,343,1137.9512" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="355" y="1134.6758">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="355" y="1147.6309">source</text><path d="M119.5,1245.4287 L119.5,1286.0498 A0,0 0 0 0 119.5,1286.0498 L238.5,1286.0498 A0,0 0 0 0 238.5,1286.0498 L238.5,1269.7393 L258.5,1265.7393 L238.5,1261.7393 L238.5,1255.4287 L228.5,1245.4287 L119.5,1245.4287 A0,0 0 0 0 119.5,1245.4287 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M228.5,1245.4287 L228.5,1255.4287 L238.5,1255.4287 L228.5,1245.4287 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="125.5" y="1262.9971">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="125.5" y="1278.3076">processor</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="258.5" y="1248.6729"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="268.5" y="1270.2744">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="295,1196.9512,391,1196.9512,403,1208.9512,391,1220.9512,295,1220.9512,283,1208.9512,295,1196.9512" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="1231.5859">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="295" y="1213.1084">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="403" y="1206.6309">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1336.4375,355,1348.4375,343,1360.4375,331,1348.4375,343,1336.4375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1321.1621">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1334.1172">source</text><path d="M106,1443.915 L106,1499.8467 A0,0 0 0 0 106,1499.8467 L250,1499.8467 A0,0 0 0 0 250,1499.8467 L250,1475.8809 L270,1471.8809 L250,1467.8809 L250,1453.915 L240,1443.915 L106,1443.915 A0,0 0 0 0 106,1443.915 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M240,1443.915 L240,1453.915 L250,1453.915 L240,1443.915 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="112" y="1461.4834">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="112" y="1476.7939">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="112" y="1492.1045">used as new source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="270" y="1454.8145"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="280" y="1476.416">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="281,1395.4375,405,1395.4375,417,1407.4375,405,1419.4375,281,1419.4375,269,1407.4375,281,1395.4375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="347" y="1430.0723">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="281" y="1411.5947">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="343,1550.2344,355,1562.2344,343,1574.2344,331,1562.2344,343,1550.2344" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1534.959">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="349" y="1547.9141">source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="276.5" y="1609.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="286.5" y="1630.8359">transformed source</text><ellipse cx="343" cy="1688.3672" fill="#FFFFFF" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="336.8128" x2="349.1872" y1="1682.18" y2="1694.5544"/><line style="stroke: #000000; stroke-width: 2.5;" x1="349.1872" x2="336.8128" y1="1682.18" y2="1694.5544"/><rect fill="#D8BFD8" height="1686.0703" style="stroke: #D8BFD8; stroke-width: 1.0;" width="796" x="461.5" y="12.2969"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="732.5" y="442.1045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="742.5" y="463.7061">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="742.5" y="477.8389">ts lang service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="744,393.627,840,393.627,852,405.627,840,417.627,744,417.627,732,405.627,744,393.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="796" y="428.2617">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="744" y="409.7842">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="852" y="403.3066">yes</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="792,514.8477,804,526.8477,792,538.8477,780,526.8477,792,514.8477" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="739,586.8027,845,586.8027,857,598.8027,845,610.8027,739,610.8027,727,598.8027,739,586.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="739" y="602.96">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="709" y="596.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="857" y="596.4824">no</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="471.5" y="620.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="481.5" y="642.4043">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="481.5" y="656.5371">from persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="992,620.8027,1088,620.8027,1100,632.8027,1088,644.8027,992,644.8027,980,632.8027,992,620.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="992" y="636.96">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="962" y="630.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1100" y="630.4824">no</text><path d="M646.5,658.625 L646.5,699.2461 A0,0 0 0 0 646.5,699.2461 L801.5,699.2461 A0,0 0 0 0 801.5,699.2461 L801.5,682.9355 L821.5,678.9355 L801.5,674.9355 L801.5,668.625 L791.5,658.625 L646.5,658.625 A0,0 0 0 0 646.5,658.625 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M791.5,658.625 L791.5,668.625 L801.5,668.625 L791.5,658.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="652.5" y="676.1934">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="652.5" y="691.5039">as isolated modules</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="821.5" y="654.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="831.5" y="676.4043">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="831.5" y="690.5371">transpileModule</text><path d="M953.5,654.8027 L953.5,741.3555 A0,0 0 0 0 953.5,741.3555 L1136.5,741.3555 A0,0 0 0 0 1136.5,741.3555 L1136.5,702.0791 L1156.5,698.0791 L1136.5,694.0791 L1136.5,664.8027 L1126.5,654.8027 L953.5,654.8027 A0,0 0 0 0 953.5,654.8027 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1126.5,654.8027 L1126.5,664.8027 L1136.5,664.8027 L1126.5,654.8027 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="959.5" y="672.3711">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="959.5" y="687.6816">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="963.5" y="702.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="959.5" y="718.3027">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="959.5" y="733.6133">reading files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="1156.5" y="673.9463"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1166.5" y="695.5479">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1166.5" y="709.6807">service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="1040,747.3555,1052,759.3555,1040,771.3555,1028,759.3555,1040,747.3555" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M765,806.3555 L765,877.5977 A0,0 0 0 0 765,877.5977 L973,877.5977 A0,0 0 0 0 973,877.5977 L973,845.9766 L993,841.9766 L973,837.9766 L973,816.3555 L963,806.3555 L765,806.3555 A0,0 0 0 0 765,806.3555 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M963,806.3555 L963,816.3555 L973,816.3555 L963,806.3555 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="771" y="823.9238">here is where hoisting of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="771" y="839.2344">jest.mock is done, as well as</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="771" y="854.5449">user-defined transformations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="771" y="869.8555">based on config</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="993" y="817.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1003" y="839.4453">custom AST</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1003" y="853.5781">transformers</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="984" y="925.5527"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="994" y="947.1543">fix source maps</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="974.5" y="994.6855"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="984.5" y="1016.2871">update mem cache</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="960.5" y="1063.8184"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="970.5" y="1085.4199">update persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="792,1103.9512,804,1115.9512,792,1127.9512,780,1115.9512,792,1103.9512" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="53.4961" y2="88.4961"/><polygon fill="#A80036" points="339,78.4961,343,88.4961,347,78.4961,343,82.4961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="181.6289" y2="206.1064"/><polygon fill="#A80036" points="339,196.1064,343,206.1064,347,196.1064,343,200.1064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="400" x2="412" y1="169.6289" y2="169.6289"/><polygon fill="#A80036" points="408,226.1279,412,236.1279,416,226.1279,412,230.1279" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="412" y1="169.6289" y2="302.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412" x2="355" y1="302.627" y2="302.627"/><polygon fill="#A80036" points="365,298.627,355,302.627,365,306.627,361,302.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="240.2393" y2="290.627"/><polygon fill="#A80036" points="339,280.627,343,290.627,347,280.627,343,284.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="122.6289" y2="157.6289"/><polygon fill="#A80036" points="339,147.6289,343,157.6289,347,147.6289,343,151.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.5" x2="64.5" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="361.627" y2="396.8711"/><polygon fill="#A80036" points="60.5,386.8711,64.5,396.8711,68.5,386.8711,64.5,390.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="431.0039" y2="1149.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="331" y1="1149.9512" y2="1149.9512"/><polygon fill="#A80036" points="321,1145.9512,331,1149.9512,321,1153.9512,325,1149.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="314.627" y2="349.627"/><polygon fill="#A80036" points="339,339.627,343,349.627,347,339.627,343,343.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1220.9512" y2="1248.6729"/><polygon fill="#A80036" points="339,1238.6729,343,1248.6729,347,1238.6729,343,1242.6729" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403" x2="437.5" y1="1208.9512" y2="1208.9512"/><polygon fill="#A80036" points="433.5,1268.6943,437.5,1278.6943,441.5,1268.6943,437.5,1272.6943" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="437.5" x2="437.5" y1="1208.9512" y2="1348.4375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="437.5" x2="355" y1="1348.4375" y2="1348.4375"/><polygon fill="#A80036" points="365,1344.4375,355,1348.4375,365,1352.4375,361,1348.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1282.8057" y2="1336.4375"/><polygon fill="#A80036" points="339,1326.4375,343,1336.4375,347,1326.4375,343,1330.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1161.9512" y2="1196.9512"/><polygon fill="#A80036" points="339,1186.9512,343,1196.9512,347,1186.9512,343,1190.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1419.4375" y2="1454.8145"/><polygon fill="#A80036" points="339,1444.8145,343,1454.8145,347,1444.8145,343,1448.8145" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="417" x2="429" y1="1407.4375" y2="1407.4375"/><polygon fill="#A80036" points="425,1474.8359,429,1484.8359,433,1474.8359,429,1478.8359" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429" x2="429" y1="1407.4375" y2="1562.2344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429" x2="355" y1="1562.2344" y2="1562.2344"/><polygon fill="#A80036" points="365,1558.2344,355,1562.2344,365,1566.2344,361,1562.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1488.9473" y2="1550.2344"/><polygon fill="#A80036" points="339,1540.2344,343,1550.2344,347,1540.2344,343,1544.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1360.4375" y2="1395.4375"/><polygon fill="#A80036" points="339,1385.4375,343,1395.4375,347,1385.4375,343,1389.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1574.2344" y2="1609.2344"/><polygon fill="#A80036" points="339,1599.2344,343,1609.2344,347,1599.2344,343,1603.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="343" y1="1643.3672" y2="1678.3672"/><polygon fill="#A80036" points="339,1668.3672,343,1678.3672,347,1668.3672,343,1672.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="792" y1="417.627" y2="442.1045"/><polygon fill="#A80036" points="788,432.1045,792,442.1045,796,432.1045,792,436.1045" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="852" x2="864" y1="405.627" y2="405.627"/><polygon fill="#A80036" points="860,456.2373,864,466.2373,868,456.2373,864,460.2373" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="864" x2="864" y1="405.627" y2="526.8477"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="864" x2="804" y1="526.8477" y2="526.8477"/><polygon fill="#A80036" points="814,522.8477,804,526.8477,814,530.8477,810,526.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="792" y1="490.3701" y2="514.8477"/><polygon fill="#A80036" points="788,504.8477,792,514.8477,796,504.8477,792,508.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="980" x2="877.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="877.5" x2="877.5" y1="632.8027" y2="654.8027"/><polygon fill="#A80036" points="873.5,644.8027,877.5,654.8027,881.5,644.8027,877.5,648.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1100" x2="1202.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1202.5" x2="1202.5" y1="632.8027" y2="673.9463"/><polygon fill="#A80036" points="1198.5,663.9463,1202.5,673.9463,1206.5,663.9463,1202.5,667.9463" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="877.5" x2="877.5" y1="703.0684" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="877.5" x2="1028" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1018,755.3555,1028,759.3555,1018,763.3555,1022,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1202.5" x2="1202.5" y1="722.2119" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1202.5" x2="1052" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1062,755.3555,1052,759.3555,1062,763.3555,1058,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="771.3555" y2="817.8438"/><polygon fill="#A80036" points="1036,807.8438,1040,817.8438,1044,807.8438,1040,811.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="866.1094" y2="925.5527"/><polygon fill="#A80036" points="1036,915.5527,1040,925.5527,1044,915.5527,1040,919.5527" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1044" y="899.9883">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="959.6855" y2="994.6855"/><polygon fill="#A80036" points="1036,984.6855,1040,994.6855,1044,984.6855,1040,988.6855" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="1028.8184" y2="1063.8184"/><polygon fill="#A80036" points="1036,1053.8184,1040,1063.8184,1044,1053.8184,1040,1057.8184" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="727" x2="544" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="544" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="540,610.8027,544,620.8027,548,610.8027,544,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="857" x2="1040" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="1036,610.8027,1040,620.8027,1044,610.8027,1040,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="544" y1="669.0684" y2="1115.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="780" y1="1115.9512" y2="1115.9512"/><polygon fill="#A80036" points="770,1111.9512,780,1115.9512,770,1119.9512,774,1115.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="1040" y1="1097.9512" y2="1115.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040" x2="804" y1="1115.9512" y2="1115.9512"/><polygon fill="#A80036" points="814,1111.9512,804,1115.9512,814,1119.9512,810,1115.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="792" y1="538.8477" y2="586.8027"/><polygon fill="#A80036" points="788,576.8027,792,586.8027,796,576.8027,792,580.8027" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="796" y="566.9824">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="417.5" x2="792" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="792" y1="361.627" y2="393.627"/><polygon fill="#A80036" points="788,383.627,792,393.627,796,383.627,792,387.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="792" y1="1127.9512" y2="1149.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="355" y1="1149.9512" y2="1149.9512"/><polygon fill="#A80036" points="365,1145.9512,355,1149.9512,365,1153.9512,361,1149.9512" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="84" x="193.75" y="29.6992">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="153" x="783" y="29.6992">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.2969" y2="1698.3672"/><line style="stroke: #000000; stroke-width: 2.0;" x1="461.5" x2="461.5" y1="12.2969" y2="1698.3672"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1257.5" x2="1257.5" y1="12.2969" y2="1698.3672"/><!--
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note right
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (isolated modules?) then (yes)
  else (no)
    :create and cache
    ts lang service;
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (isolated modules?) then (yes)
      :compile with
      transpileModule;
      note left
        files will be compiled
        as isolated modules
      end note

    else (no)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    endif

    :custom AST
    transformers;
    note left
      here is where hoisting of
      jest.mock is done, as well as
      user-defined transformations
      based on config
    end note

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2018.10(Sat Aug 25 19:02:59 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: TH
--></g></svg>