<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1604px" preserveAspectRatio="none" style="width:1356px;height:1604px;" version="1.1" viewBox="0 0 1356 1604" width="1356px" zoomAndPan="magnify"><defs><filter height="300%" id="f14hbln4i6wdmo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="406" cy="43.4961" fill="#000000" filter="url(#f14hbln4i6wdmo)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="333" y="88.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="343" y="110.0977">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="359.5" y="206.1064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="369.5" y="227.708">json stringify</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="361,157.6289,451,157.6289,463,169.6289,451,181.6289,361,181.6289,349,169.6289,361,157.6289" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="410" y="192.2637">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="361" y="173.7861">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="463" y="167.3086">no</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="406,290.627,418,302.627,406,314.627,394,302.627,406,290.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="275.3516">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="288.3066">source</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="343.5,349.627,468.5,349.627,480.5,361.627,468.5,373.627,343.5,373.627,331.5,361.627,343.5,349.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="343.5" y="365.7842">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="313.5" y="359.3066">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="480.5" y="359.3066">no</text><path d="M20,393.627 L20,434.248 A0,0 0 0 0 20,434.248 L162,434.248 A0,0 0 0 0 162,434.248 L162,417.9375 L182,413.9375 L162,409.9375 L162,403.627 L152,393.627 L20,393.627 A0,0 0 0 0 20,393.627 " fill="#FBFB77" filter="url(#f14hbln4i6wdmo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M152,393.627 L152,403.627 L162,403.627 L152,393.627 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="411.1953">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="26" y="426.5059">definition files</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="182" y="396.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="192" y="418.4727">wipe source</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="406,1031.709,418,1043.709,406,1055.709,394,1043.709,406,1031.709" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="418" y="1028.4336">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="418" y="1041.3887">source</text><path d="M182.5,1139.1865 L182.5,1179.8076 A0,0 0 0 0 182.5,1179.8076 L301.5,1179.8076 A0,0 0 0 0 301.5,1179.8076 L301.5,1163.4971 L321.5,1159.4971 L301.5,1155.4971 L301.5,1149.1865 L291.5,1139.1865 L182.5,1139.1865 A0,0 0 0 0 182.5,1139.1865 " fill="#FBFB77" filter="url(#f14hbln4i6wdmo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M291.5,1139.1865 L291.5,1149.1865 L301.5,1149.1865 L291.5,1139.1865 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="188.5" y="1156.7549">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="188.5" y="1172.0654">processor</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="321.5" y="1142.4307"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="331.5" y="1164.0322">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="358,1090.709,454,1090.709,466,1102.709,454,1114.709,358,1114.709,346,1102.709,358,1090.709" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="410" y="1125.3438">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="358" y="1106.8662">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="466" y="1100.3887">no</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="406,1230.1953,418,1242.1953,406,1254.1953,394,1242.1953,406,1230.1953" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="1214.9199">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="1227.875">source</text><path d="M169,1337.6729 L169,1393.6045 A0,0 0 0 0 169,1393.6045 L313,1393.6045 A0,0 0 0 0 313,1393.6045 L313,1369.6387 L333,1365.6387 L313,1361.6387 L313,1347.6729 L303,1337.6729 L169,1337.6729 A0,0 0 0 0 169,1337.6729 " fill="#FBFB77" filter="url(#f14hbln4i6wdmo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303,1337.6729 L303,1347.6729 L313,1347.6729 L303,1337.6729 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="175" y="1355.2412">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="175" y="1370.5518">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="175" y="1385.8623">used as new source</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="333" y="1348.5723"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="343" y="1370.1738">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="344,1289.1953,468,1289.1953,480,1301.1953,468,1313.1953,344,1313.1953,332,1301.1953,344,1289.1953" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="410" y="1323.8301">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="344" y="1305.3525">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="406,1443.9922,418,1455.9922,406,1467.9922,394,1455.9922,406,1443.9922" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="1428.7168">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="412" y="1441.6719">source</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="339.5" y="1502.9922"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="349.5" y="1524.5938">transformed source</text><ellipse cx="406" cy="1582.125" fill="#FFFFFF" filter="url(#f14hbln4i6wdmo)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="399.8128" x2="412.1872" y1="1575.9378" y2="1588.3122"/><line style="stroke: #000000; stroke-width: 2.5;" x1="412.1872" x2="399.8128" y1="1575.9378" y2="1588.3122"/><rect fill="#D8BFD8" height="1579.8281" style="stroke: #D8BFD8; stroke-width: 1.0;" width="820" x="524.5" y="12.2969"/><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="759.5" y="442.1045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="769.5" y="463.7061">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="769.5" y="477.8389">ts lang service</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="767,393.627,871,393.627,883,405.627,871,417.627,767,417.627,755,405.627,767,393.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="823" y="428.2617">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="767" y="409.7842">has type-checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="883" y="403.3066">no</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="819,514.8477,831,526.8477,819,538.8477,807,526.8477,819,514.8477" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="766,586.8027,872,586.8027,884,598.8027,872,610.8027,766,610.8027,754,598.8027,766,586.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="766" y="602.96">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="736" y="596.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="884" y="596.4824">no</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="534.5" y="620.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="544.5" y="642.4043">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="544.5" y="656.5371">from persistent cache</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="980.5,620.8027,1081.5,620.8027,1093.5,632.8027,1081.5,644.8027,980.5,644.8027,968.5,632.8027,980.5,620.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="980.5" y="636.96">has type checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="950.5" y="630.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1093.5" y="630.4824">no</text><path d="M709.5,654.8027 L709.5,741.3555 A0,0 0 0 0 709.5,741.3555 L892.5,741.3555 A0,0 0 0 0 892.5,741.3555 L892.5,702.0791 L912.5,698.0791 L892.5,694.0791 L892.5,664.8027 L882.5,654.8027 L709.5,654.8027 A0,0 0 0 0 709.5,654.8027 " fill="#FBFB77" filter="url(#f14hbln4i6wdmo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M882.5,654.8027 L882.5,664.8027 L892.5,664.8027 L882.5,654.8027 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="715.5" y="672.3711">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="715.5" y="687.6816">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="719.5" y="702.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="715.5" y="718.3027">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="715.5" y="733.6133">reading files</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="912.5" y="673.9463"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="922.5" y="695.5479">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="922.5" y="709.6807">service</text><path d="M1179.5,658.625 L1179.5,674.9355 L1159.5,678.9355 L1179.5,682.9355 L1179.5,699.2461 A0,0 0 0 0 1179.5,699.2461 L1334.5,699.2461 A0,0 0 0 0 1334.5,699.2461 L1334.5,668.625 L1324.5,658.625 L1179.5,658.625 A0,0 0 0 0 1179.5,658.625 " fill="#FBFB77" filter="url(#f14hbln4i6wdmo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1324.5,658.625 L1324.5,668.625 L1334.5,668.625 L1324.5,658.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1185.5" y="676.1934">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1185.5" y="691.5039">as isolated modules</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1047.5" y="654.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1057.5" y="676.4043">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1057.5" y="690.5371">transpileModule</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="1031,747.3555,1043,759.3555,1031,771.3555,1019,759.3555,1031,747.3555" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="975" y="819.3105"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="985" y="840.9121">fix source maps</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="965.5" y="888.4434"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="975.5" y="910.0449">update mem cache</text><rect fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="951.5" y="957.5762"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="961.5" y="979.1777">update persistent cache</text><polygon fill="#FEFECE" filter="url(#f14hbln4i6wdmo)" points="819,997.709,831,1009.709,819,1021.709,807,1009.709,819,997.709" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="53.4961" y2="88.4961"/><polygon fill="#A80036" points="402,78.4961,406,88.4961,410,78.4961,406,82.4961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="181.6289" y2="206.1064"/><polygon fill="#A80036" points="402,196.1064,406,206.1064,410,196.1064,406,200.1064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="463" x2="475" y1="169.6289" y2="169.6289"/><polygon fill="#A80036" points="471,226.1279,475,236.1279,479,226.1279,475,230.1279" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="475" x2="475" y1="169.6289" y2="302.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="475" x2="418" y1="302.627" y2="302.627"/><polygon fill="#A80036" points="428,298.627,418,302.627,428,306.627,424,302.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="240.2393" y2="290.627"/><polygon fill="#A80036" points="402,280.627,406,290.627,410,280.627,406,284.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="122.6289" y2="157.6289"/><polygon fill="#A80036" points="402,147.6289,406,157.6289,410,147.6289,406,151.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="331.5" x2="226.5" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="226.5" y1="361.627" y2="396.8711"/><polygon fill="#A80036" points="222.5,386.8711,226.5,396.8711,230.5,386.8711,226.5,390.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="226.5" y1="431.0039" y2="1043.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="394" y1="1043.709" y2="1043.709"/><polygon fill="#A80036" points="384,1039.709,394,1043.709,384,1047.709,388,1043.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="314.627" y2="349.627"/><polygon fill="#A80036" points="402,339.627,406,349.627,410,339.627,406,343.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1114.709" y2="1142.4307"/><polygon fill="#A80036" points="402,1132.4307,406,1142.4307,410,1132.4307,406,1136.4307" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="466" x2="500.5" y1="1102.709" y2="1102.709"/><polygon fill="#A80036" points="496.5,1162.4521,500.5,1172.4521,504.5,1162.4521,500.5,1166.4521" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="500.5" x2="500.5" y1="1102.709" y2="1242.1953"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="500.5" x2="418" y1="1242.1953" y2="1242.1953"/><polygon fill="#A80036" points="428,1238.1953,418,1242.1953,428,1246.1953,424,1242.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1176.5635" y2="1230.1953"/><polygon fill="#A80036" points="402,1220.1953,406,1230.1953,410,1220.1953,406,1224.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1055.709" y2="1090.709"/><polygon fill="#A80036" points="402,1080.709,406,1090.709,410,1080.709,406,1084.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1313.1953" y2="1348.5723"/><polygon fill="#A80036" points="402,1338.5723,406,1348.5723,410,1338.5723,406,1342.5723" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="480" x2="492" y1="1301.1953" y2="1301.1953"/><polygon fill="#A80036" points="488,1368.5938,492,1378.5938,496,1368.5938,492,1372.5938" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="492" y1="1301.1953" y2="1455.9922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="418" y1="1455.9922" y2="1455.9922"/><polygon fill="#A80036" points="428,1451.9922,418,1455.9922,428,1459.9922,424,1455.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1382.7051" y2="1443.9922"/><polygon fill="#A80036" points="402,1433.9922,406,1443.9922,410,1433.9922,406,1437.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1254.1953" y2="1289.1953"/><polygon fill="#A80036" points="402,1279.1953,406,1289.1953,410,1279.1953,406,1283.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1467.9922" y2="1502.9922"/><polygon fill="#A80036" points="402,1492.9922,406,1502.9922,410,1492.9922,406,1496.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406" x2="406" y1="1537.125" y2="1572.125"/><polygon fill="#A80036" points="402,1562.125,406,1572.125,410,1562.125,406,1566.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="819" y1="417.627" y2="442.1045"/><polygon fill="#A80036" points="815,432.1045,819,442.1045,823,432.1045,819,436.1045" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="883" x2="895" y1="405.627" y2="405.627"/><polygon fill="#A80036" points="891,456.2373,895,466.2373,899,456.2373,895,460.2373" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="895" x2="895" y1="405.627" y2="526.8477"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="895" x2="831" y1="526.8477" y2="526.8477"/><polygon fill="#A80036" points="841,522.8477,831,526.8477,841,530.8477,837,526.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="819" y1="490.3701" y2="514.8477"/><polygon fill="#A80036" points="815,504.8477,819,514.8477,823,504.8477,819,508.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="968.5" x2="958.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="958.5" x2="958.5" y1="632.8027" y2="673.9463"/><polygon fill="#A80036" points="954.5,663.9463,958.5,673.9463,962.5,663.9463,958.5,667.9463" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1093.5" x2="1103.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1103.5" x2="1103.5" y1="632.8027" y2="654.8027"/><polygon fill="#A80036" points="1099.5,644.8027,1103.5,654.8027,1107.5,644.8027,1103.5,648.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="958.5" x2="958.5" y1="722.2119" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="958.5" x2="1019" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1009,755.3555,1019,759.3555,1009,763.3555,1013,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1103.5" x2="1103.5" y1="703.0684" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1103.5" x2="1043" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1053,755.3555,1043,759.3555,1053,763.3555,1049,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="1031" y1="771.3555" y2="819.3105"/><polygon fill="#A80036" points="1027,809.3105,1031,819.3105,1035,809.3105,1031,813.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1035" y="799.4902">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="1031" y1="853.4434" y2="888.4434"/><polygon fill="#A80036" points="1027,878.4434,1031,888.4434,1035,878.4434,1031,882.4434" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="1031" y1="922.5762" y2="957.5762"/><polygon fill="#A80036" points="1027,947.5762,1031,957.5762,1035,947.5762,1031,951.5762" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="754" x2="607" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="607" x2="607" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="603,610.8027,607,620.8027,611,610.8027,607,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="884" x2="1031" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="1031" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="1027,610.8027,1031,620.8027,1035,610.8027,1031,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="607" x2="607" y1="669.0684" y2="1009.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="607" x2="807" y1="1009.709" y2="1009.709"/><polygon fill="#A80036" points="797,1005.709,807,1009.709,797,1013.709,801,1009.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="1031" y1="991.709" y2="1009.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1031" x2="831" y1="1009.709" y2="1009.709"/><polygon fill="#A80036" points="841,1005.709,831,1009.709,841,1013.709,837,1009.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="819" y1="538.8477" y2="586.8027"/><polygon fill="#A80036" points="815,576.8027,819,586.8027,823,576.8027,819,580.8027" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="823" y="566.9824">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="480.5" x2="819" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="819" y1="361.627" y2="393.627"/><polygon fill="#A80036" points="815,383.627,819,393.627,823,383.627,819,387.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="819" y1="1021.709" y2="1043.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="819" x2="418" y1="1043.709" y2="1043.709"/><polygon fill="#A80036" points="428,1039.709,418,1043.709,428,1047.709,424,1043.709" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="84" x="225.25" y="29.6992">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="153" x="858" y="29.6992">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.2969" y2="1592.125"/><line style="stroke: #000000; stroke-width: 2.0;" x1="524.5" x2="524.5" y1="12.2969" y2="1592.125"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1344.5" x2="1344.5" y1="12.2969" y2="1592.125"/><!--
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note left
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (has type-checking?) then (yes)
    :create and cache
    ts lang service;
  else (no)
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (has type checking?) then (yes)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    else (no)
      :compile with
      transpileModule;
      note right
        files will be compiled
        as isolated modules
      end note

    endif

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2018.10(Sat Aug 25 19:02:59 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: TH
--></g></svg>