<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1604px" preserveAspectRatio="none" style="width:1351px;height:1604px;" version="1.1" viewBox="0 0 1351 1604" width="1351px" zoomAndPan="magnify"><defs><filter height="300%" id="f4nlljburea3j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="425" cy="43.4961" fill="#000000" filter="url(#f4nlljburea3j)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="352" y="88.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="362" y="110.0977">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="378.5" y="206.1064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="388.5" y="227.708">json stringify</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="380,157.6289,470,157.6289,482,169.6289,470,181.6289,380,181.6289,368,169.6289,380,157.6289" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="429" y="192.2637">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="380" y="173.7861">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="482" y="167.3086">no</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="425,290.627,437,302.627,425,314.627,413,302.627,425,290.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="275.3516">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="288.3066">source</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="362.5,349.627,487.5,349.627,499.5,361.627,487.5,373.627,362.5,373.627,350.5,361.627,362.5,349.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="362.5" y="365.7842">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="332.5" y="359.3066">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="499.5" y="359.3066">no</text><path d="M20,393.627 L20,434.248 A0,0 0 0 0 20,434.248 L162,434.248 A0,0 0 0 0 162,434.248 L162,417.9375 L182,413.9375 L162,409.9375 L162,403.627 L152,393.627 L20,393.627 A0,0 0 0 0 20,393.627 " fill="#FBFB77" filter="url(#f4nlljburea3j)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M152,393.627 L152,403.627 L162,403.627 L152,393.627 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="411.1953">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="26" y="426.5059">definition files</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="182" y="396.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="192" y="418.4727">wipe source</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="425,1031.709,437,1043.709,425,1055.709,413,1043.709,425,1031.709" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="437" y="1028.4336">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="437" y="1041.3887">source</text><path d="M201.5,1139.1865 L201.5,1179.8076 A0,0 0 0 0 201.5,1179.8076 L320.5,1179.8076 A0,0 0 0 0 320.5,1179.8076 L320.5,1163.4971 L340.5,1159.4971 L320.5,1155.4971 L320.5,1149.1865 L310.5,1139.1865 L201.5,1139.1865 A0,0 0 0 0 201.5,1139.1865 " fill="#FBFB77" filter="url(#f4nlljburea3j)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M310.5,1139.1865 L310.5,1149.1865 L320.5,1149.1865 L310.5,1139.1865 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="207.5" y="1156.7549">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="207.5" y="1172.0654">processor</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="340.5" y="1142.4307"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="350.5" y="1164.0322">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="377,1090.709,473,1090.709,485,1102.709,473,1114.709,377,1114.709,365,1102.709,377,1090.709" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="429" y="1125.3438">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="377" y="1106.8662">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="485" y="1100.3887">no</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="425,1230.1953,437,1242.1953,425,1254.1953,413,1242.1953,425,1230.1953" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="1214.9199">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="1227.875">source</text><path d="M188,1337.6729 L188,1393.6045 A0,0 0 0 0 188,1393.6045 L332,1393.6045 A0,0 0 0 0 332,1393.6045 L332,1369.6387 L352,1365.6387 L332,1361.6387 L332,1347.6729 L322,1337.6729 L188,1337.6729 A0,0 0 0 0 188,1337.6729 " fill="#FBFB77" filter="url(#f4nlljburea3j)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322,1337.6729 L322,1347.6729 L332,1347.6729 L322,1337.6729 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="194" y="1355.2412">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="194" y="1370.5518">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="194" y="1385.8623">used as new source</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="352" y="1348.5723"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="362" y="1370.1738">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="363,1289.1953,487,1289.1953,499,1301.1953,487,1313.1953,363,1313.1953,351,1301.1953,363,1289.1953" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="429" y="1323.8301">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="363" y="1305.3525">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="425,1443.9922,437,1455.9922,425,1467.9922,413,1455.9922,425,1443.9922" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="1428.7168">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="431" y="1441.6719">source</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="358.5" y="1502.9922"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="368.5" y="1524.5938">transformed source</text><ellipse cx="425" cy="1582.125" fill="#FFFFFF" filter="url(#f4nlljburea3j)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="418.8128" x2="431.1872" y1="1575.9378" y2="1588.3122"/><line style="stroke: #000000; stroke-width: 2.5;" x1="431.1872" x2="418.8128" y1="1575.9378" y2="1588.3122"/><rect fill="#D8BFD8" height="1579.8281" style="stroke: #D8BFD8; stroke-width: 1.0;" width="796" x="543.5" y="12.2969"/><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="816.5" y="442.1045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="826.5" y="463.7061">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="826.5" y="477.8389">ts lang service</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="824,393.627,928,393.627,940,405.627,928,417.627,824,417.627,812,405.627,824,393.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="880" y="428.2617">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="824" y="409.7842">has type-checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="940" y="403.3066">no</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="876,514.8477,888,526.8477,876,538.8477,864,526.8477,876,514.8477" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="823,586.8027,929,586.8027,941,598.8027,929,610.8027,823,610.8027,811,598.8027,823,586.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="823" y="602.96">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="793" y="596.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="941" y="596.4824">no</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="553.5" y="620.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="563.5" y="642.4043">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="563.5" y="656.5371">from persistent cache</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="1075.5,620.8027,1176.5,620.8027,1188.5,632.8027,1176.5,644.8027,1075.5,644.8027,1063.5,632.8027,1075.5,620.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1075.5" y="636.96">has type checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="1045.5" y="630.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1188.5" y="630.4824">no</text><path d="M728.5,654.8027 L728.5,741.3555 A0,0 0 0 0 728.5,741.3555 L911.5,741.3555 A0,0 0 0 0 911.5,741.3555 L911.5,702.0791 L931.5,698.0791 L911.5,694.0791 L911.5,664.8027 L901.5,654.8027 L728.5,654.8027 A0,0 0 0 0 728.5,654.8027 " fill="#FBFB77" filter="url(#f4nlljburea3j)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M901.5,654.8027 L901.5,664.8027 L911.5,664.8027 L901.5,654.8027 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="734.5" y="672.3711">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="734.5" y="687.6816">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="738.5" y="702.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="734.5" y="718.3027">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="734.5" y="733.6133">reading files</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="931.5" y="673.9463"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="941.5" y="695.5479">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="941.5" y="709.6807">service</text><path d="M1043.5,658.625 L1043.5,699.2461 A0,0 0 0 0 1043.5,699.2461 L1198.5,699.2461 A0,0 0 0 0 1198.5,699.2461 L1198.5,682.9355 L1218.5,678.9355 L1198.5,674.9355 L1198.5,668.625 L1188.5,658.625 L1043.5,658.625 A0,0 0 0 0 1043.5,658.625 " fill="#FBFB77" filter="url(#f4nlljburea3j)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1188.5,658.625 L1188.5,668.625 L1198.5,668.625 L1188.5,658.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1049.5" y="676.1934">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1049.5" y="691.5039">as isolated modules</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1218.5" y="654.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1228.5" y="676.4043">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1228.5" y="690.5371">transpileModule</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="1126,747.3555,1138,759.3555,1126,771.3555,1114,759.3555,1126,747.3555" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1070" y="819.3105"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1080" y="840.9121">fix source maps</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="1060.5" y="888.4434"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="1070.5" y="910.0449">update mem cache</text><rect fill="#FEFECE" filter="url(#f4nlljburea3j)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="1046.5" y="957.5762"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="1056.5" y="979.1777">update persistent cache</text><polygon fill="#FEFECE" filter="url(#f4nlljburea3j)" points="876,997.709,888,1009.709,876,1021.709,864,1009.709,876,997.709" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="53.4961" y2="88.4961"/><polygon fill="#A80036" points="421,78.4961,425,88.4961,429,78.4961,425,82.4961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="181.6289" y2="206.1064"/><polygon fill="#A80036" points="421,196.1064,425,206.1064,429,196.1064,425,200.1064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="494" y1="169.6289" y2="169.6289"/><polygon fill="#A80036" points="490,226.1279,494,236.1279,498,226.1279,494,230.1279" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="494" x2="494" y1="169.6289" y2="302.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="494" x2="437" y1="302.627" y2="302.627"/><polygon fill="#A80036" points="447,298.627,437,302.627,447,306.627,443,302.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="240.2393" y2="290.627"/><polygon fill="#A80036" points="421,280.627,425,290.627,429,280.627,425,284.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="122.6289" y2="157.6289"/><polygon fill="#A80036" points="421,147.6289,425,157.6289,429,147.6289,425,151.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="350.5" x2="226.5" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="226.5" y1="361.627" y2="396.8711"/><polygon fill="#A80036" points="222.5,386.8711,226.5,396.8711,230.5,386.8711,226.5,390.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="226.5" y1="431.0039" y2="1043.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="413" y1="1043.709" y2="1043.709"/><polygon fill="#A80036" points="403,1039.709,413,1043.709,403,1047.709,407,1043.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="314.627" y2="349.627"/><polygon fill="#A80036" points="421,339.627,425,349.627,429,339.627,425,343.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1114.709" y2="1142.4307"/><polygon fill="#A80036" points="421,1132.4307,425,1142.4307,429,1132.4307,425,1136.4307" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485" x2="519.5" y1="1102.709" y2="1102.709"/><polygon fill="#A80036" points="515.5,1162.4521,519.5,1172.4521,523.5,1162.4521,519.5,1166.4521" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="519.5" x2="519.5" y1="1102.709" y2="1242.1953"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="519.5" x2="437" y1="1242.1953" y2="1242.1953"/><polygon fill="#A80036" points="447,1238.1953,437,1242.1953,447,1246.1953,443,1242.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1176.5635" y2="1230.1953"/><polygon fill="#A80036" points="421,1220.1953,425,1230.1953,429,1220.1953,425,1224.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1055.709" y2="1090.709"/><polygon fill="#A80036" points="421,1080.709,425,1090.709,429,1080.709,425,1084.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1313.1953" y2="1348.5723"/><polygon fill="#A80036" points="421,1338.5723,425,1348.5723,429,1338.5723,425,1342.5723" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="511" y1="1301.1953" y2="1301.1953"/><polygon fill="#A80036" points="507,1368.5938,511,1378.5938,515,1368.5938,511,1372.5938" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="511" x2="511" y1="1301.1953" y2="1455.9922"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="511" x2="437" y1="1455.9922" y2="1455.9922"/><polygon fill="#A80036" points="447,1451.9922,437,1455.9922,447,1459.9922,443,1455.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1382.7051" y2="1443.9922"/><polygon fill="#A80036" points="421,1433.9922,425,1443.9922,429,1433.9922,425,1437.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1254.1953" y2="1289.1953"/><polygon fill="#A80036" points="421,1279.1953,425,1289.1953,429,1279.1953,425,1283.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1467.9922" y2="1502.9922"/><polygon fill="#A80036" points="421,1492.9922,425,1502.9922,429,1492.9922,425,1496.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425" x2="425" y1="1537.125" y2="1572.125"/><polygon fill="#A80036" points="421,1562.125,425,1572.125,429,1562.125,425,1566.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="876" y1="417.627" y2="442.1045"/><polygon fill="#A80036" points="872,432.1045,876,442.1045,880,432.1045,876,436.1045" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="940" x2="952" y1="405.627" y2="405.627"/><polygon fill="#A80036" points="948,456.2373,952,466.2373,956,456.2373,952,460.2373" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="952" x2="952" y1="405.627" y2="526.8477"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="952" x2="888" y1="526.8477" y2="526.8477"/><polygon fill="#A80036" points="898,522.8477,888,526.8477,898,530.8477,894,526.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="876" y1="490.3701" y2="514.8477"/><polygon fill="#A80036" points="872,504.8477,876,514.8477,880,504.8477,876,508.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1063.5" x2="977.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="977.5" x2="977.5" y1="632.8027" y2="673.9463"/><polygon fill="#A80036" points="973.5,663.9463,977.5,673.9463,981.5,663.9463,977.5,667.9463" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1188.5" x2="1274.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1274.5" x2="1274.5" y1="632.8027" y2="654.8027"/><polygon fill="#A80036" points="1270.5,644.8027,1274.5,654.8027,1278.5,644.8027,1274.5,648.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="977.5" x2="977.5" y1="722.2119" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="977.5" x2="1114" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1104,755.3555,1114,759.3555,1104,763.3555,1108,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1274.5" x2="1274.5" y1="703.0684" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1274.5" x2="1138" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1148,755.3555,1138,759.3555,1148,763.3555,1144,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1126" y1="771.3555" y2="819.3105"/><polygon fill="#A80036" points="1122,809.3105,1126,819.3105,1130,809.3105,1126,813.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1130" y="799.4902">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1126" y1="853.4434" y2="888.4434"/><polygon fill="#A80036" points="1122,878.4434,1126,888.4434,1130,878.4434,1126,882.4434" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1126" y1="922.5762" y2="957.5762"/><polygon fill="#A80036" points="1122,947.5762,1126,957.5762,1130,947.5762,1126,951.5762" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="811" x2="626" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="626" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="622,610.8027,626,620.8027,630,610.8027,626,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="941" x2="1126" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1126" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="1122,610.8027,1126,620.8027,1130,610.8027,1126,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="626" y1="669.0684" y2="1009.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="864" y1="1009.709" y2="1009.709"/><polygon fill="#A80036" points="854,1005.709,864,1009.709,854,1013.709,858,1009.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="1126" y1="991.709" y2="1009.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1126" x2="888" y1="1009.709" y2="1009.709"/><polygon fill="#A80036" points="898,1005.709,888,1009.709,898,1013.709,894,1009.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="876" y1="538.8477" y2="586.8027"/><polygon fill="#A80036" points="872,576.8027,876,586.8027,880,576.8027,876,580.8027" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="880" y="566.9824">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="499.5" x2="876" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="876" y1="361.627" y2="393.627"/><polygon fill="#A80036" points="872,383.627,876,393.627,880,383.627,876,387.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="876" y1="1021.709" y2="1043.709"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="876" x2="437" y1="1043.709" y2="1043.709"/><polygon fill="#A80036" points="447,1039.709,437,1043.709,447,1047.709,443,1043.709" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="84" x="234.75" y="29.6992">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="153" x="865" y="29.6992">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.2969" y2="1592.125"/><line style="stroke: #000000; stroke-width: 2.0;" x1="543.5" x2="543.5" y1="12.2969" y2="1592.125"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1339.5" x2="1339.5" y1="12.2969" y2="1592.125"/><!--
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note left
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (has type-checking?) then (yes)
    :create and cache
    ts lang service;
  else (no)
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (has type checking?) then (yes)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    else (no)
      :compile with
      transpileModule;
      note left
        files will be compiled
        as isolated modules
      end note

    endif

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2018.10(Sat Aug 25 19:02:59 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: TH
--></g></svg>