<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1710px" preserveAspectRatio="none" style="width:1270px;height:1710px;" version="1.1" viewBox="0 0 1270 1710" width="1270px" zoomAndPan="magnify"><defs><filter height="300%" id="fyfilk3t4md3h" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="344" cy="43.4961" fill="#000000" filter="url(#fyfilk3t4md3h)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="271" y="88.4961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="281" y="110.0977">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="297.5" y="206.1064"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="307.5" y="227.708">json stringify</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="299,157.6289,389,157.6289,401,169.6289,389,181.6289,299,181.6289,287,169.6289,299,157.6289" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="348" y="192.2637">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="299" y="173.7861">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="401" y="167.3086">no</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="344,290.627,356,302.627,344,314.627,332,302.627,344,290.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="275.3516">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="288.3066">source</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="281.5,349.627,406.5,349.627,418.5,361.627,406.5,373.627,281.5,373.627,269.5,361.627,281.5,349.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="281.5" y="365.7842">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="251.5" y="359.3066">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="418.5" y="359.3066">no</text><path d="M129,393.627 L129,409.9375 L109,413.9375 L129,417.9375 L129,434.248 A0,0 0 0 0 129,434.248 L271,434.248 A0,0 0 0 0 271,434.248 L271,403.627 L261,393.627 L129,393.627 A0,0 0 0 0 129,393.627 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,393.627 L261,403.627 L271,403.627 L261,393.627 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="135" y="411.1953">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="135" y="426.5059">definition files</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="20" y="396.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="30" y="418.4727">wipe source</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="344,1137.9512,356,1149.9512,344,1161.9512,332,1149.9512,344,1137.9512" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="356" y="1134.6758">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="356" y="1147.6309">source</text><path d="M120.5,1245.4287 L120.5,1286.0498 A0,0 0 0 0 120.5,1286.0498 L239.5,1286.0498 A0,0 0 0 0 239.5,1286.0498 L239.5,1269.7393 L259.5,1265.7393 L239.5,1261.7393 L239.5,1255.4287 L229.5,1245.4287 L120.5,1245.4287 A0,0 0 0 0 120.5,1245.4287 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M229.5,1245.4287 L229.5,1255.4287 L239.5,1255.4287 L229.5,1245.4287 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="126.5" y="1262.9971">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="126.5" y="1278.3076">processor</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="259.5" y="1248.6729"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="269.5" y="1270.2744">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="296,1196.9512,392,1196.9512,404,1208.9512,392,1220.9512,296,1220.9512,284,1208.9512,296,1196.9512" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="348" y="1231.5859">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="296" y="1213.1084">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="404" y="1206.6309">no</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="344,1336.4375,356,1348.4375,344,1360.4375,332,1348.4375,344,1336.4375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="1321.1621">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="1334.1172">source</text><path d="M107,1443.915 L107,1499.8467 A0,0 0 0 0 107,1499.8467 L251,1499.8467 A0,0 0 0 0 251,1499.8467 L251,1475.8809 L271,1471.8809 L251,1467.8809 L251,1453.915 L241,1443.915 L107,1443.915 A0,0 0 0 0 107,1443.915 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M241,1443.915 L241,1453.915 L251,1453.915 L241,1443.915 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="113" y="1461.4834">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="113" y="1476.7939">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="113" y="1492.1045">used as new source</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="271" y="1454.8145"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="281" y="1476.416">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="282,1395.4375,406,1395.4375,418,1407.4375,406,1419.4375,282,1419.4375,270,1407.4375,282,1395.4375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="348" y="1430.0723">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="282" y="1411.5947">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="344,1550.2344,356,1562.2344,344,1574.2344,332,1562.2344,344,1550.2344" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="1534.959">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="350" y="1547.9141">source</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="277.5" y="1609.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="287.5" y="1630.8359">transformed source</text><ellipse cx="344" cy="1688.3672" fill="#FFFFFF" filter="url(#fyfilk3t4md3h)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="337.8128" x2="350.1872" y1="1682.18" y2="1694.5544"/><line style="stroke: #000000; stroke-width: 2.5;" x1="350.1872" x2="337.8128" y1="1682.18" y2="1694.5544"/><rect fill="#D8BFD8" height="1686.0703" style="stroke: #D8BFD8; stroke-width: 1.0;" width="796" x="462.5" y="12.2969"/><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="735.5" y="442.1045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="745.5" y="463.7061">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="745.5" y="477.8389">ts lang service</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="743,393.627,847,393.627,859,405.627,847,417.627,743,417.627,731,405.627,743,393.627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="799" y="428.2617">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="743" y="409.7842">has type-checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="859" y="403.3066">no</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="795,514.8477,807,526.8477,795,538.8477,783,526.8477,795,514.8477" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="742,586.8027,848,586.8027,860,598.8027,848,610.8027,742,610.8027,730,598.8027,742,586.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="742" y="602.96">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="712" y="596.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="860" y="596.4824">no</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="472.5" y="620.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="482.5" y="642.4043">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="482.5" y="656.5371">from persistent cache</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="994.5,620.8027,1095.5,620.8027,1107.5,632.8027,1095.5,644.8027,994.5,644.8027,982.5,632.8027,994.5,620.8027" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="994.5" y="636.96">has type checking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="964.5" y="630.4824">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1107.5" y="630.4824">no</text><path d="M647.5,654.8027 L647.5,741.3555 A0,0 0 0 0 647.5,741.3555 L830.5,741.3555 A0,0 0 0 0 830.5,741.3555 L830.5,702.0791 L850.5,698.0791 L830.5,694.0791 L830.5,664.8027 L820.5,654.8027 L647.5,654.8027 A0,0 0 0 0 647.5,654.8027 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M820.5,654.8027 L820.5,664.8027 L830.5,664.8027 L820.5,654.8027 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="653.5" y="672.3711">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="653.5" y="687.6816">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="657.5" y="702.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="653.5" y="718.3027">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="653.5" y="733.6133">reading files</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="850.5" y="673.9463"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="860.5" y="695.5479">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="860.5" y="709.6807">service</text><path d="M962.5,658.625 L962.5,699.2461 A0,0 0 0 0 962.5,699.2461 L1117.5,699.2461 A0,0 0 0 0 1117.5,699.2461 L1117.5,682.9355 L1137.5,678.9355 L1117.5,674.9355 L1117.5,668.625 L1107.5,658.625 L962.5,658.625 A0,0 0 0 0 962.5,658.625 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1107.5,658.625 L1107.5,668.625 L1117.5,668.625 L1107.5,658.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="968.5" y="676.1934">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="968.5" y="691.5039">as isolated modules</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1137.5" y="654.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1147.5" y="676.4043">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1147.5" y="690.5371">transpileModule</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="1045,747.3555,1057,759.3555,1045,771.3555,1033,759.3555,1045,747.3555" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M752,806.3555 L752,877.5977 A0,0 0 0 0 752,877.5977 L978,877.5977 A0,0 0 0 0 978,877.5977 L978,845.9766 L998,841.9766 L978,837.9766 L978,816.3555 L968,806.3555 L752,806.3555 A0,0 0 0 0 752,806.3555 " fill="#FBFB77" filter="url(#fyfilk3t4md3h)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M968,806.3555 L968,816.3555 L978,816.3555 L968,806.3555 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="758" y="823.9238">here is where hoisting of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="758" y="839.2344">jest.mock is done, as well</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="758" y="854.5449">as user-defined transformations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="758" y="869.8555">based on config</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="998" y="817.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1008" y="839.4453">custom AST</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1008" y="853.5781">transformers</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="989" y="925.5527"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="999" y="947.1543">fix source maps</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="979.5" y="994.6855"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="989.5" y="1016.2871">update mem cache</text><rect fill="#FEFECE" filter="url(#fyfilk3t4md3h)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="965.5" y="1063.8184"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="975.5" y="1085.4199">update persistent cache</text><polygon fill="#FEFECE" filter="url(#fyfilk3t4md3h)" points="795,1103.9512,807,1115.9512,795,1127.9512,783,1115.9512,795,1103.9512" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="53.4961" y2="88.4961"/><polygon fill="#A80036" points="340,78.4961,344,88.4961,348,78.4961,344,82.4961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="181.6289" y2="206.1064"/><polygon fill="#A80036" points="340,196.1064,344,206.1064,348,196.1064,344,200.1064" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="401" x2="413" y1="169.6289" y2="169.6289"/><polygon fill="#A80036" points="409,226.1279,413,236.1279,417,226.1279,413,230.1279" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="413" y1="169.6289" y2="302.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="356" y1="302.627" y2="302.627"/><polygon fill="#A80036" points="366,298.627,356,302.627,366,306.627,362,302.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="240.2393" y2="290.627"/><polygon fill="#A80036" points="340,280.627,344,290.627,348,280.627,344,284.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="122.6289" y2="157.6289"/><polygon fill="#A80036" points="340,147.6289,344,157.6289,348,147.6289,344,151.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="269.5" x2="64.5" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="361.627" y2="396.8711"/><polygon fill="#A80036" points="60.5,386.8711,64.5,396.8711,68.5,386.8711,64.5,390.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="64.5" y1="431.0039" y2="1149.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="64.5" x2="332" y1="1149.9512" y2="1149.9512"/><polygon fill="#A80036" points="322,1145.9512,332,1149.9512,322,1153.9512,326,1149.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="314.627" y2="349.627"/><polygon fill="#A80036" points="340,339.627,344,349.627,348,339.627,344,343.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1220.9512" y2="1248.6729"/><polygon fill="#A80036" points="340,1238.6729,344,1248.6729,348,1238.6729,344,1242.6729" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="404" x2="438.5" y1="1208.9512" y2="1208.9512"/><polygon fill="#A80036" points="434.5,1268.6943,438.5,1278.6943,442.5,1268.6943,438.5,1272.6943" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="438.5" x2="438.5" y1="1208.9512" y2="1348.4375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="438.5" x2="356" y1="1348.4375" y2="1348.4375"/><polygon fill="#A80036" points="366,1344.4375,356,1348.4375,366,1352.4375,362,1348.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1282.8057" y2="1336.4375"/><polygon fill="#A80036" points="340,1326.4375,344,1336.4375,348,1326.4375,344,1330.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1161.9512" y2="1196.9512"/><polygon fill="#A80036" points="340,1186.9512,344,1196.9512,348,1186.9512,344,1190.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1419.4375" y2="1454.8145"/><polygon fill="#A80036" points="340,1444.8145,344,1454.8145,348,1444.8145,344,1448.8145" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="418" x2="430" y1="1407.4375" y2="1407.4375"/><polygon fill="#A80036" points="426,1474.8359,430,1484.8359,434,1474.8359,430,1478.8359" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="430" x2="430" y1="1407.4375" y2="1562.2344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="430" x2="356" y1="1562.2344" y2="1562.2344"/><polygon fill="#A80036" points="366,1558.2344,356,1562.2344,366,1566.2344,362,1562.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1488.9473" y2="1550.2344"/><polygon fill="#A80036" points="340,1540.2344,344,1550.2344,348,1540.2344,344,1544.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1360.4375" y2="1395.4375"/><polygon fill="#A80036" points="340,1385.4375,344,1395.4375,348,1385.4375,344,1389.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1574.2344" y2="1609.2344"/><polygon fill="#A80036" points="340,1599.2344,344,1609.2344,348,1599.2344,344,1603.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="344" x2="344" y1="1643.3672" y2="1678.3672"/><polygon fill="#A80036" points="340,1668.3672,344,1678.3672,348,1668.3672,344,1672.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="795" y1="417.627" y2="442.1045"/><polygon fill="#A80036" points="791,432.1045,795,442.1045,799,432.1045,795,436.1045" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="859" x2="871" y1="405.627" y2="405.627"/><polygon fill="#A80036" points="867,456.2373,871,466.2373,875,456.2373,871,460.2373" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="871" x2="871" y1="405.627" y2="526.8477"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="871" x2="807" y1="526.8477" y2="526.8477"/><polygon fill="#A80036" points="817,522.8477,807,526.8477,817,530.8477,813,526.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="795" y1="490.3701" y2="514.8477"/><polygon fill="#A80036" points="791,504.8477,795,514.8477,799,504.8477,795,508.8477" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="982.5" x2="896.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="896.5" x2="896.5" y1="632.8027" y2="673.9463"/><polygon fill="#A80036" points="892.5,663.9463,896.5,673.9463,900.5,663.9463,896.5,667.9463" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1107.5" x2="1193.5" y1="632.8027" y2="632.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1193.5" x2="1193.5" y1="632.8027" y2="654.8027"/><polygon fill="#A80036" points="1189.5,644.8027,1193.5,654.8027,1197.5,644.8027,1193.5,648.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="896.5" x2="896.5" y1="722.2119" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="896.5" x2="1033" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1023,755.3555,1033,759.3555,1023,763.3555,1027,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1193.5" x2="1193.5" y1="703.0684" y2="759.3555"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1193.5" x2="1057" y1="759.3555" y2="759.3555"/><polygon fill="#A80036" points="1067,755.3555,1057,759.3555,1067,763.3555,1063,759.3555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="771.3555" y2="817.8438"/><polygon fill="#A80036" points="1041,807.8438,1045,817.8438,1049,807.8438,1045,811.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="866.1094" y2="925.5527"/><polygon fill="#A80036" points="1041,915.5527,1045,925.5527,1049,915.5527,1045,919.5527" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1049" y="899.9883">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="959.6855" y2="994.6855"/><polygon fill="#A80036" points="1041,984.6855,1045,994.6855,1049,984.6855,1045,988.6855" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="1028.8184" y2="1063.8184"/><polygon fill="#A80036" points="1041,1053.8184,1045,1063.8184,1049,1053.8184,1045,1057.8184" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="730" x2="545" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="545" x2="545" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="541,610.8027,545,620.8027,549,610.8027,545,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="860" x2="1045" y1="598.8027" y2="598.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="598.8027" y2="620.8027"/><polygon fill="#A80036" points="1041,610.8027,1045,620.8027,1049,610.8027,1045,614.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="545" x2="545" y1="669.0684" y2="1115.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="545" x2="783" y1="1115.9512" y2="1115.9512"/><polygon fill="#A80036" points="773,1111.9512,783,1115.9512,773,1119.9512,777,1115.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1045" y1="1097.9512" y2="1115.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="807" y1="1115.9512" y2="1115.9512"/><polygon fill="#A80036" points="817,1111.9512,807,1115.9512,817,1119.9512,813,1115.9512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="795" y1="538.8477" y2="586.8027"/><polygon fill="#A80036" points="791,576.8027,795,586.8027,799,576.8027,795,580.8027" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="799" y="566.9824">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="418.5" x2="795" y1="361.627" y2="361.627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="795" y1="361.627" y2="393.627"/><polygon fill="#A80036" points="791,383.627,795,393.627,799,383.627,795,387.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="795" y1="1127.9512" y2="1149.9512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="795" x2="356" y1="1149.9512" y2="1149.9512"/><polygon fill="#A80036" points="366,1145.9512,356,1149.9512,366,1153.9512,362,1149.9512" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="84" x="194.25" y="29.6992">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="153" x="784" y="29.6992">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.2969" y2="1698.3672"/><line style="stroke: #000000; stroke-width: 2.0;" x1="462.5" x2="462.5" y1="12.2969" y2="1698.3672"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1258.5" x2="1258.5" y1="12.2969" y2="1698.3672"/><!--
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note right
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (has type-checking?) then (yes)
    :create and cache
    ts lang service;
  else (no)
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (has type checking?) then (yes)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    else (no)
      :compile with
      transpileModule;
      note left
        files will be compiled
        as isolated modules
      end note

    endif

    :custom AST
    transformers;
    note left
      here is where hoisting of
      jest.mock is done, as well
      as user-defined transformations
      based on config
    end note

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2018.10(Sat Aug 25 19:02:59 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: TH
--></g></svg>